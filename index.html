<!DOCTYPE html>
<html>
<head>
</head>
<body>
  <input type="text" id="message">
  <div id="scroller" style="width:100%; height: 90%; overflow:auto; position:absolute; top: 10%; left:0px"></div>
  <script>
  #Host can and should be changed
  var host = "ws://192.168.0.39:7000/";
  s = new WebSocket(host, "chat");
  function print(thing) {
    document.getElementById('scroller').innerHTML=thing+"<br>"
  }
  s.onopen = function (e) {
    var uname = window.prompt("Please enter a username","Lallu123");
    s.send("/NAME "+uname);
  document.getElementById("message").onkeypress = function(e) {
    if(e.which+""==13) {
      if(document.getElementById('message').value == 'close') {s.close(); return;}
      s.send(document.getElementById("message").value);
      document.getElementById("message").value="";
    }
  };
};
s.onclose = function (e) { print("Closed, reason - " + e.code); };
s.onerror = function (e) { print("Error."); };
s.onmessage = function (e) { document.getElementById("scroller").innerHTML="<br>"+e.data+document.getElementById('scroller').innerHTML; };

</script>
</body>
</html>
